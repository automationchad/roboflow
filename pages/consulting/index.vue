<template>
	<div class="">
		<div class="relative bg-white">
			<div class="mx-auto max-w-7xl">
				<div class="relative z-10 lg:w-full lg:max-w-2xl">
					<svg
						class="absolute inset-y-0 right-8 hidden h-full w-80 translate-x-1/2 transform fill-white lg:block"
						viewBox="0 0 100 100"
						preserveAspectRatio="none"
						aria-hidden="true"
					>
						<polygon points="0,0 90,0 50,100 0,100" />
					</svg>

					<div class="relative py-32 px-6 sm:py-40 lg:py-56 lg:px-8 lg:pr-0">
						<div class="mx-auto max-w-2xl lg:mx-0 lg:max-w-xl">
							<div class="hidden sm:mb-10 sm:flex">
								<div
									class="relative rounded-full py-1 px-3 text-sm leading-6 text-gray-500 ring-1 ring-gray-900/10 hover:ring-gray-900/20"
								>
									Shaping the way you deliver change.
									<a
										href="#"
										class="whitespace-nowrap font-semibold text-indigo-600"
										><span class="absolute inset-0" aria-hidden="true" />Read
										more <span aria-hidden="true">&rarr;</span></a
									>
								</div>
							</div>
							<h1
								class="text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl"
							>
								Scaling from 8 → 9 figures is formulaic.
							</h1>
							<p class="mt-6 text-lg leading-8 text-gray-600">
								We’re a process automation consultancy, providing advice and
								delivery capability uplift to the worlds growing organisations.
							</p>
							<div class="mt-10 flex items-center gap-x-6">
								<a
									href="/consulting/contact"
									class="rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
									>Submit inquiry</a
								>
								<a
									href="#info"
									class="text-sm font-semibold leading-6 text-gray-900"
									>Learn more <span aria-hidden="true">→</span></a
								>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="bg-gray-50 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2">
				<img
					class="lg:aspect-auto aspect-[3/2] object-cover lg:h-full lg:w-full"
					src="https://images.unsplash.com/photo-1521737711867-e3b97375f902?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1587&q=80"
					alt=""
				/>
			</div>
		</div>

		<div
			class="relative isolate overflow-hidden bg-white py-24 sm:py-32"
			id="info"
		>
			<svg
				viewBox="0 0 801 1036"
				aria-hidden="true"
				class="absolute -top-80 left-[max(6rem,33%)] -z-10 w-[50.0625rem] transform-gpu blur-3xl sm:left-1/2 md:top-20 lg:ml-20 xl:top-3 xl:ml-56"
			>
				<path
					fill="url(#bba7d695-d9bb-4e8a-a43b-2b951b4ac9c0)"
					fill-opacity=".3"
					d="m282.279 843.371 32.285 192.609-313.61-25.32 281.325-167.289-58.145-346.888c94.5 92.653 277.002 213.246 251.009-45.597C442.651 127.331 248.072 10.369 449.268.891c160.956-7.583 301.235 116.434 351.256 179.39L507.001 307.557l270.983 241.04-495.705 294.774Z"
				/>
				<defs>
					<linearGradient
						id="bba7d695-d9bb-4e8a-a43b-2b951b4ac9c0"
						x1="508.179"
						x2="-28.677"
						y1="-116.221"
						y2="1091.63"
						gradientUnits="userSpaceOnUse"
					>
						<stop stop-color="#9089FC" />
						<stop offset="1" stop-color="#FF80B5" />
					</linearGradient>
				</defs>
			</svg>
			<div class="mx-auto max-w-7xl px-6 lg:px-8">
				<div class="mx-auto max-w-2xl lg:mx-0">
					<p
						class="text-lg font-semibold leading-8 tracking-tight text-indigo-600"
					>
						Scale past the
					</p>
					<h1
						class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"
					>
						A better workflow
					</h1>
					<p class="mt-6 text-xl leading-8 text-gray-700">
						We're a group of former corporate insiders who realized that there
						are a lot of things that can be improved with a little bit of tech
						magic.
					</p>
				</div>
				<div
					class="mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-y-16 gap-x-8 lg:mx-0 lg:mt-10 lg:max-w-none lg:grid-cols-12"
				>
					<div class="relative lg:order-last lg:col-span-5">
						<svg
							class="absolute -top-[40rem] left-1 -z-10 h-[64rem] w-[175.5rem] -translate-x-1/2 stroke-gray-900/10 [mask-image:radial-gradient(64rem_64rem_at_111.5rem_0%,white,transparent)]"
							aria-hidden="true"
						>
							<defs>
								<pattern
									id="e87443c8-56e4-4c20-9111-55b82fa704e3"
									width="200"
									height="200"
									patternUnits="userSpaceOnUse"
								>
									<path d="M0.5 0V200M200 0.5L0 0.499983" />
								</pattern>
							</defs>
							<rect
								width="100%"
								height="100%"
								stroke-width="0"
								fill="url(#e87443c8-56e4-4c20-9111-55b82fa704e3)"
							/>
						</svg>
						<figure class="border-l border-indigo-600 pl-8">
							<blockquote
								class="text-xl font-semibold leading-8 tracking-tight text-gray-900"
							>
								<p>“{{ case_study.fields.quote }}”</p>
							</blockquote>
							<figcaption class="mt-8 flex gap-x-4">
								<img
									:src="case_study.fields.customerPhoto[0].url"
									alt=""
									class="mt-1 h-10 w-10 flex-none rounded-full bg-gray-50"
								/>
								<div class="text-sm leading-6">
									<div class="font-semibold text-gray-900">
										{{ case_study.fields.customerName }}
									</div>
									<div class="text-gray-600">
										{{ case_study.fields.customerTitle }}
									</div>
								</div>
							</figcaption>
						</figure>
					</div>
					<div
						class="prose max-w-xl text-base leading-7 text-gray-700 lg:col-span-7"
					>
						<p>
							As your business expands, your resources become more scarce. You
							have less time to do all things you want to do, to make the
							decisions you need to make, to service your customers the way they
							deserve to be serviced. The paradox of business is this:
							<i>The faster you are growing, the tighter cash usually is.</i>
							<br /><br />
							So the businesses that need cash most, have it least! The key to
							freeing up cash flow is building capacity. By extending capacity,
							you allow more sales and gross margin to accumulate so you can
							make the investments needed for next stage growth. The key to
							automation is to extend capacity.
						</p>
						<ul role="list" class="mt-8 max-w-xl space-y-8 text-gray-600">
							<li class="flex gap-x-3">
								<!-- <CloudArrowUpIcon
									class="mt-1 h-5 w-5 flex-none text-indigo-600"
									aria-hidden="true"
								/> -->
								<svg
									xmlns="http://www.w3.org/2000/svg"
									fill="none"
									viewBox="0 0 24 24"
									class="mt-1 h-5 w-5 flex-none text-indigo-600"
								>
									<path
										stroke="currentColor"
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="1.5"
										d="m15.75 8.75 3.5 3.25-3.5 3.25m-7.5-6.5L4.75 12l3.5 3.25m5-9.5-2.5 12.5"
									></path>
								</svg>

								<span
									><strong class="font-semibold text-gray-900"
										>Push to deploy.</strong
									>
									Think of Motis Group as an outsourced business operations team
									– creating infrastructure through systems and extending
									capacity of those systems through automation.</span
								>
							</li>
							<li class="flex gap-x-3">
								<LockClosedIcon
									class="mt-1 h-5 w-5 flex-none text-indigo-600"
									aria-hidden="true"
								/>
								<span
									><strong class="font-semibold text-gray-900"
										>SSL certificates.</strong
									>
									Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure
									qui lorem cupidatat commodo.</span
								>
							</li>
							<li class="flex gap-x-3">
								<ServerIcon
									class="mt-1 h-5 w-5 flex-none text-indigo-600"
									aria-hidden="true"
								/>
								<span
									><strong class="font-semibold text-gray-900"
										>Database backups.</strong
									>
									Ac tincidunt sapien vehicula erat auctor pellentesque rhoncus.
									Et magna sit morbi lobortis.</span
								>
							</li>
						</ul>
						<p class="mt-8">
							We're a lean, mean, data-integrating machine, and we're not afraid
							to get our hands dirty (in code, that is). Our approach is simple:
							we work with you to understand your challenges, and then we
							develop customized automation solutions to solve them.
						</p>
						<h2 class="mt-16 text-2xl font-bold tracking-tight text-gray-900">
							No server? No problem.
						</h2>
						<p class="mt-6">
							Id orci tellus laoreet id ac. Dolor, aenean leo, ac etiam
							consequat in. Convallis arcu ipsum urna nibh. Pharetra, euismod
							vitae interdum mauris enim, consequat vulputate nibh. Maecenas
							pellentesque id sed tellus mauris, ultrices mauris. Tincidunt enim
							cursus ridiculus mi. Pellentesque nam sed nullam sed diam turpis
							ipsum eu a sed convallis diam. If you're interested in working
							together, click below to submit an inquiry and I'll get back to
							you within 48 hours.
							<b
								>Please note that advisory packages are 90-day retainers and
								cost $4,000 per month.</b
							>
						</p>
					</div>
				</div>
				<div class="mt-10 flex">
					<a
						href="/consulting/contact"
						class="rounded-md bg-indigo-600 py-2.5 px-3.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
						>Submit inquiry</a
					>
				</div>
			</div>
		</div>

		<Testimonials />
		<Team />
		<div class="bg-white">
			<div class="mx-auto max-w-7xl px-6 py-24 sm:py-32 lg:py-40 lg:px-8">
				<div class="mx-auto">
					<h2
						class="text-2xl font-bold leading-10 tracking-tight text-gray-900"
					>
						Frequently asked questions
					</h2>
					<div
						v-for="sub_category in sub_categories"
						:key="sub_category"
						class="mt-12"
					>
						<h3
							class="text-sm font-semibold capitalize leading-7 text-slate-400"
						>
							{{ sub_category.substr(sub_category.indexOf('- ') + 1) }}
						</h3>
						<dl class="space-y-6 divide-y divide-gray-900/10">
							<Disclosure
								as="div"
								v-for="faq in faqs.filter(
									(o) => o.fields.sub_category === sub_category
								)"
								:key="faq.fields.question"
								class="pt-6"
								v-slot="{ open }"
							>
								<dt>
									<DisclosureButton
										class="flex w-full items-start justify-between text-left text-gray-900"
									>
										<span class="text-base font-semibold leading-7">{{
											faq.fields.question
										}}</span>
										<span class="ml-6 flex h-7 items-center">
											<PlusSmallIcon
												v-if="!open"
												class="h-6 w-6"
												aria-hidden="true"
											/>
											<MinusSmallIcon
												v-else
												class="h-6 w-6"
												aria-hidden="true"
											/>
										</span>
									</DisclosureButton>
								</dt>
								<DisclosurePanel as="dd" class="mt-2 pr-12">
									<p class="text-base leading-7 text-gray-600">
										{{ faq.fields.answer }}
									</p>
								</DisclosurePanel>
							</Disclosure>
						</dl>
					</div>
				</div>
				<div class="mt-10 flex">
					<a
						href="/consulting/contact"
						class="rounded-md bg-indigo-600 py-2.5 px-3.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
						>Submit inquiry</a
					>
				</div>
			</div>
		</div>
	</div>
</template>

<script setup>
	import {
		CloudArrowUpIcon,
		LockClosedIcon,
		ServerIcon,
	} from '@heroicons/vue/20/solid';

	import {
		Disclosure,
		DisclosureButton,
		DisclosurePanel,
	} from '@headlessui/vue';
	import { MinusSmallIcon, PlusSmallIcon } from '@heroicons/vue/24/outline';

	const stats = [
		{ label: 'Founded', value: '2021' },
		{ label: 'Employees', value: '37' },
		{ label: 'Countries', value: '12' },
		{ label: 'Raised', value: '$25M' },
	];

	import Airtable from 'airtable';
	import showdown from 'showdown';
	const converter = new showdown.Converter();
	const base = new Airtable({ apiKey: 'keyBl2UOzLvshshLp' }).base(
		'appkU7PnQUq7lePwf'
	);
	let faqs = [];

	const table = base('faqs');

	const getRecords = async () => {
		const records = await table
			.select({
				view: 'viwYfjdlWPJq1q6Ix',
				sort: [{ field: 'last_updated', direction: 'desc' }],
			})
			.firstPage();
		faqs = records.map((o) => {
			return { uuid: o.id, fields: o.fields };
		});
	};

	await getRecords();

	const sub_categories = [
		...new Set(faqs.map((item) => item.fields.sub_category)),
	].sort();

	let case_studies = [];
	const table2 = base('case_studies');
	const getCaseStudy = async () => {
		const records = await table2
			.select({
				view: 'viwqsEntAHmvVzthi',
				sort: [{ field: 'last_updated', direction: 'desc' }],
			})
			.firstPage();
		case_studies = records.map((o) => {
			return { uuid: o.id, fields: o.fields };
		});
	};

	await getCaseStudy();

	const case_study = await case_studies[
		Math.floor(Math.random() * case_studies.length)
	];
</script>
